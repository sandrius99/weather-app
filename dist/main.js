(()=>{"use strict";async function e(e){let t=await async function(e){try{const t=await async function(e){try{const t=await fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=1&appid=9d2d84cc33855d85419772dd76edbce6`,{mode:"cors"}),n=await t.json();return{latitude:n[0].lat,longitude:n[0].lon}}catch(e){console.log(e)}}(e),n=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t.latitude}&lon=${t.longitude}&units=metric&appid=9d2d84cc33855d85419772dd76edbce6`);return function(e){const t={temp:Math.round(e.main.temp),feels_like:Math.round(e.main.feels_like),name:e.name,country:e.sys.country,sunrise:new Date(1e3*e.sys.sunrise).toString().split(" ")[4].substring(0,5),sunset:new Date(1e3*e.sys.sunset).toString().split(" ")[4].substring(0,5),weather:{state:e.weather[0].main,description:e.weather[0].description}};return t.weather.description=t.weather.description.charAt(0).toUpperCase()+t.weather.description.slice(1),t}(await n.json())}catch(e){console.log(e)}}(e);await async function(e){const t=document.querySelector(".city"),n=document.querySelector(".degrees"),r=document.querySelector(".feels-like"),i=document.querySelector(".state"),s=document.querySelector(".sunrise"),c=document.querySelector(".sunset");t.innerText+=`${e.name}, ${e.country}`,n.innerText+=`${e.temp}°`,r.innerText+=`Feels like: ${e.feels_like}°`,i.innerText+=`Weather: ${e.weather.description}`,s.innerText+=`Sunrise at(local time): ${e.sunrise}`,c.innerText+=`Sunset at(local time): ${e.sunset}`}(t)}e("Vilnius");const t=document.getElementById("search-img"),n=document.getElementById("search");t.addEventListener("click",(t=>{if(n.validity.patternMismatch)return n.setCustomValidity("Please use only letters"),void n.reportValidity();n.setCustomValidity(""),function(){const e=document.querySelector(".city"),t=document.querySelector(".degrees"),n=document.querySelector(".feels-like"),r=document.querySelector(".state"),i=document.querySelector(".sunrise"),s=document.querySelector(".sunset");e.innerHTML="",t.innerHTML="",n.innerHTML="",r.innerHTML="",i.innerHTML="",s.innerHTML=""}(),e(n.value)}))})();